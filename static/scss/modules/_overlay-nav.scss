// ---- Overlay and Mobile Nav ----



// overlay styles

.overlay {
	position: fixed;
	width: 100%;
	height: 100%;
	top: 0;
	bottom: 0;
	left: 0;
	background: $nightmare-trans;
	z-index: 4;
	overflow: auto;

	.menu-icon-close {
		color: $white;
		font-size: 3em;
		width: 80px;
		height: 80px;
		position: absolute;
		right: 20px;
		top: 20px;
		z-index: 5;
	}

	nav {
		@include flexbox();
		@include flex-prop-prefixes(justify-content, flex-start);
		@include flex-prop-prefixes(align-items, flex-start);
		position: relative;
		top: 0%;
		font-size: $body-font-size;
		-webkit-transform: translateY(0%);
		transform: translateY(0%);
		ul:not(.dropdown-menu) {
			font-family: $font-stack-show-dates;
			list-style: none;
			padding: 0;
			margin: 0 5px;
			max-width: 99%;
			width: 320px;
			display: inline-block;
			height: 100%;
			position: relative;
			text-align: left;
			li.menu-item + li.menu-item {
				margin-top: 0.2em;
			}
		}
		ul {
			li {
				display: block;
				a {
					display: block;
					color: $white;
					-webkit-transition: color 0.2s;
					transition: color 0.2s;
				}
			}
		}
		.dropdown-menu {
			@include flexbox();
			@include flex-prop-prefixes(align-items, flex-start);
			@include flex-prop-prefixes(align-content, space-between);
			@include flex-prop-prefixes(flex-direction, column);
			@include flex-prop-prefixes(flex-wrap, wrap);
			@include flex-prop-prefixes(justify-content, space-between);
			font-family: $font-stack-body;
			.dropdown-menu-item {
				a {
					color: $color-primary-light;
				}
				a:hover, a:focus {
					color: $color-accent;
				}
			}
		}
	}
	a:hover, a:focus {
		color: $color-accent;
	}
}

.no-scroll {
	height: 100%;
	overflow: hidden;
	width: 100%;
	position: fixed;
}



// overlay effects

.overlay-screen {
	opacity: 0;
	visibility: hidden;
	-webkit-transition: opacity 0.5s, visibility 0s 0.5s;
	transition: opacity 0.5s, visibility 0s 0.5s;
	nav {
		-webkit-perspective: 1200px;
		perspective: 1200px;
		ul {
			opacity: 0.4;
			-webkit-transform: translateY(-25%) rotateX(35deg);
			transform: translateY(-25%) rotateX(35deg);
			-webkit-transition: -webkit-transform 0.5s, opacity 0.5s;
			transition: transform 0.5s, opacity 0.5s;
		}
	}
}

.overlay-screen.open {
	opacity: 1;
	visibility: visible;
	-webkit-transition: opacity 0.5s;
	transition: opacity 0.5s;
	nav {
		ul {
			opacity: 1;
			-webkit-transform: rotateX(0deg);
			transform: rotateX(0deg);
		}
	}

}

.overlay-screen.close {
	nav {
		ul {
			-webkit-transform: translateY(25%) rotateX(-35deg);
			transform: translateY(25%) rotateX(-35deg);
		}
	}
}



// Media Queries

@media (min-width: $start-tablet) {
	.overlay {
		nav {
			@include flex-prop-prefixes(justify-content, center);
			@include flex-prop-prefixes(align-items, center);
			top: 50%;
			font-size: $body-font-size;
			-webkit-transform: translateY(-50%);
			transform: translateY(-50%);
			ul:not(.dropdown-menu) {
				max-width: $start-laptop;
				margin: 0;
				width: 400px;
			}
		}
	}
}
